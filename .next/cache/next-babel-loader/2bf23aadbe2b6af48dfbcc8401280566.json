{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/raul-alzate/Documentos/project/pathway-learning/web/src/pages/runner/runnerList.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { RichList, Dropdown, Avatar } from \"@panely/components\";\nimport { firestoreClient } from \"components/firebase/firebaseClient\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport * as SolidIcon from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Router from \"next/router\";\n\nvar RunnerList = /*#__PURE__*/function (_React$Component) {\n  _inherits(RunnerList, _React$Component);\n\n  var _super = _createSuper(RunnerList);\n\n  function RunnerList(props) {\n    var _this;\n\n    _classCallCheck(this, RunnerList);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: props.data || []\n    };\n    _this.onSortList = _this.onSortList.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RunnerList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firestoreClient.collection(\"runners\").where(\"pathwayId\", \"==\", this.props.pathwayId).orderBy(\"level\").get().then(function (querySnapshot) {\n        var list = [];\n        querySnapshot.forEach(function (doc) {\n          list.push({\n            id: doc.id,\n            title: doc.data().name,\n            subtitle: doc.data().description\n          });\n        });\n\n        _this2.setState(_objectSpread(_objectSpread({}, _this2.state), {}, {\n          data: list\n        }));\n      })[\"catch\"](function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(runnerId) {\n      var _this3 = this;\n\n      firestoreClient.collection(\"runners\").doc(runnerId)[\"delete\"]().then(function () {\n        _this3.componentDidMount();\n      })[\"catch\"](function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    }\n  }, {\n    key: \"onSortList\",\n    value: function onSortList(list) {\n      list.forEach(function (item, level) {\n        firestoreClient.collection(\"runners\").doc(item.id).update({\n          level: level\n        })[\"catch\"](function (error) {\n          console.error(\"Error removing document: \", error);\n        });\n      });\n      this.setState({\n        data: list\n      });\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this$props$item, _nextProps$item;\n\n      if (((_this$props$item = this.props.item) === null || _this$props$item === void 0 ? void 0 : _this$props$item.runnerId) !== ((_nextProps$item = nextProps.item) === null || _nextProps$item === void 0 ? void 0 : _nextProps$item.runnerId)) {\n        this.componentDidMount();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return __jsx(RichList, {\n        bordered: true,\n        action: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }\n      }, __jsx(ReactSortable, {\n        list: this.state.data,\n        setList: this.onSortList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, this.state.data.map(function (data, index) {\n        var title = data.title,\n            subtitle = data.subtitle,\n            id = data.id;\n        return __jsx(RichList.Item, {\n          key: index,\n          href: \"javascript:void(0)\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }\n        }, __jsx(RichList.Addon, {\n          addonType: \"prepend\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }\n        }, __jsx(Avatar, {\n          display: true,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }\n        }, __jsx(FontAwesomeIcon, {\n          icon: SolidIcon.faSort,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }\n        }))), __jsx(RichList.Content, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }\n        }, __jsx(RichList.Title, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 19\n          }\n        }, title), __jsx(RichList.Subtitle, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 19\n          }\n        }, subtitle)), __jsx(RichList.Addon, {\n          addonType: \"append\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }\n        }, __jsx(Dropdown.Uncontrolled, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 19\n          }\n        }, __jsx(Dropdown.Toggle, {\n          icon: true,\n          variant: \"text-secondary\",\n          href: \"javascript:void(0)\",\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }\n        }, __jsx(FontAwesomeIcon, {\n          icon: SolidIcon.faEllipsisH,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 23\n          }\n        })), __jsx(Dropdown.Menu, {\n          right: true,\n          animated: true,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }\n        }, __jsx(Dropdown.Item, {\n          href: \"javascript:void(0)\",\n          onClick: function onClick() {\n            Router.push({\n              pathname: \"/runner/edit\",\n              query: {\n                runnerId: id,\n                pathwayId: _this4.props.pathwayId\n              }\n            });\n          },\n          icon: __jsx(FontAwesomeIcon, {\n            icon: SolidIcon.faEdit,\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 31\n            }\n          }),\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 23\n          }\n        }, \"Editar\"), __jsx(Dropdown.Item, {\n          href: \"javascript:void(0)\",\n          onClick: function onClick() {\n            _this4.onDelete(id);\n          },\n          icon: __jsx(FontAwesomeIcon, {\n            icon: SolidIcon.faTrashAlt,\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 31\n            }\n          }),\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 23\n          }\n        }, \"Delete\"), __jsx(Dropdown.Divider, {\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 23\n          }\n        }), __jsx(Dropdown.Item, {\n          href: \"javascript:void(0)\",\n          onClick: function onClick() {\n            Router.push({\n              pathname: \"/runner/quiz\",\n              query: {\n                runnerId: id,\n                pathwayId: _this4.props.pathwayId\n              }\n            });\n          },\n          icon: __jsx(FontAwesomeIcon, {\n            icon: SolidIcon.faQuestion,\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 31\n            }\n          }),\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 23\n          }\n        }, \"Add Quiz\"), __jsx(Dropdown.Item, {\n          href: \"javascript:void(0)\",\n          onClick: function onClick() {\n            Router.push({\n              pathname: \"/track/create\",\n              query: {\n                runnerId: id,\n                pathwayId: _this4.props.pathwayId\n              }\n            });\n          },\n          icon: __jsx(FontAwesomeIcon, {\n            icon: SolidIcon.faListOl,\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 31\n            }\n          }),\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 23\n          }\n        }, \"Add Tracks\")))));\n      })));\n    }\n  }]);\n\n  return RunnerList;\n}(React.Component);\n\nexport default RunnerList;","map":{"version":3,"sources":["/home/raul-alzate/Documentos/project/pathway-learning/web/src/pages/runner/runnerList.jsx"],"names":["RichList","Dropdown","Avatar","firestoreClient","ReactSortable","SolidIcon","FontAwesomeIcon","Router","RunnerList","props","state","data","onSortList","bind","collection","where","pathwayId","orderBy","get","then","querySnapshot","list","forEach","doc","push","id","title","name","subtitle","description","setState","error","console","log","runnerId","componentDidMount","item","level","update","nextProps","nextState","map","index","faSort","faEllipsisH","pathname","query","faEdit","onDelete","faTrashAlt","faQuestion","faListOl","React","Component"],"mappings":"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","sourcesContent":["import { RichList, Dropdown, Avatar } from \"@panely/components\";\nimport { firestoreClient } from \"components/firebase/firebaseClient\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport * as SolidIcon from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Router from \"next/router\";\n\nclass RunnerList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: props.data || [],\n    };\n\n    this.onSortList = this.onSortList.bind(this);\n  }\n\n  componentDidMount() {\n    firestoreClient\n      .collection(\"runners\")\n      .where(\"pathwayId\", \"==\", this.props.pathwayId)\n      .orderBy(\"level\")\n      .get()\n      .then((querySnapshot) => {\n        const list = [];\n        querySnapshot.forEach((doc) => {\n          list.push({\n            id: doc.id,\n            title: doc.data().name,\n            subtitle: doc.data().description,\n          });\n        });\n        this.setState({\n          ...this.state,\n          data: list,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n  }\n\n  onDelete(runnerId) {\n    firestoreClient\n      .collection(\"runners\")\n      .doc(runnerId)\n      .delete()\n      .then(() => {\n        this.componentDidMount();\n      })\n      .catch((error) => {\n        console.error(\"Error removing document: \", error);\n      });\n  }\n\n  onSortList(list) {\n    list.forEach((item, level) => {\n      firestoreClient\n        .collection(\"runners\")\n        .doc(item.id)\n        .update({\n          level: level,\n        })\n        .catch((error) => {\n          console.error(\"Error removing document: \", error);\n        });\n    });\n    this.setState({ data: list });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.item?.runnerId !== nextProps.item?.runnerId) {\n      this.componentDidMount();\n    }\n    return true;\n  }\n\n  render() {\n    return (\n      <RichList bordered action>\n        <ReactSortable list={this.state.data} setList={this.onSortList}>\n          {this.state.data.map((data, index) => {\n            const { title, subtitle, id } = data;\n\n            return (\n              <RichList.Item key={index} href=\"javascript:void(0)\">\n                <RichList.Addon addonType=\"prepend\">\n                  {/* BEGIN Avatar */}\n                  <Avatar display>\n                    <FontAwesomeIcon icon={SolidIcon.faSort} />\n                  </Avatar>\n                  {/* END Avatar */}\n                </RichList.Addon>\n                <RichList.Content>\n                  <RichList.Title>{title}</RichList.Title>\n                  <RichList.Subtitle>{subtitle}</RichList.Subtitle>\n                </RichList.Content>\n                <RichList.Addon addonType=\"append\">\n                  {/* BEGIN Dropdown */}\n                  <Dropdown.Uncontrolled>\n                    <Dropdown.Toggle\n                      icon\n                      variant=\"text-secondary\"\n                      href=\"javascript:void(0)\"\n                    >\n                      <FontAwesomeIcon icon={SolidIcon.faEllipsisH} />\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu right animated>\n                      <Dropdown.Item\n                        href=\"javascript:void(0)\"\n                        onClick={() => {\n                          Router.push({\n                            pathname: \"/runner/edit\",\n                            query: {\n                              runnerId: id,\n                              pathwayId: this.props.pathwayId,\n                            },\n                          });\n                        }}\n                        icon={<FontAwesomeIcon icon={SolidIcon.faEdit} />}\n                      >\n                        Editar\n                      </Dropdown.Item>\n                      <Dropdown.Item\n                        href=\"javascript:void(0)\"\n                        onClick={() => {\n                          this.onDelete(id);\n                        }}\n                        icon={<FontAwesomeIcon icon={SolidIcon.faTrashAlt} />}\n                      >\n                        Delete\n                      </Dropdown.Item>\n                      <Dropdown.Divider />\n                      <Dropdown.Item\n                        href=\"javascript:void(0)\"\n                        onClick={() => {\n                          Router.push({\n                            pathname: \"/runner/quiz\",\n                            query: {\n                              runnerId: id,\n                              pathwayId: this.props.pathwayId,\n                            },\n                          });\n                        }}\n                        icon={<FontAwesomeIcon icon={SolidIcon.faQuestion} />}\n                      >\n                        Add Quiz\n                      </Dropdown.Item>\n                      <Dropdown.Item\n                        href=\"javascript:void(0)\"\n                        onClick={() => {\n                          Router.push({\n                            pathname: \"/track/create\",\n                            query: {\n                              runnerId: id,\n                              pathwayId: this.props.pathwayId,\n                            },\n                          });\n                        }}\n                        icon={<FontAwesomeIcon icon={SolidIcon.faListOl} />}\n                      >\n                        Add Tracks\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown.Uncontrolled>\n                  {/* END Dropdown */}\n                </RichList.Addon>\n              </RichList.Item>\n            );\n          })}\n        </ReactSortable>\n      </RichList>\n    );\n  }\n}\n\nexport default RunnerList;\n"]},"metadata":{},"sourceType":"module"}