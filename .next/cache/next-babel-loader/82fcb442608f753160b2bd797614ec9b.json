{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Marker, Portlet, Timeline } from \"@panely/components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport * as SolidIcon from \"@fortawesome/free-solid-svg-icons\";\nimport { firestoreClient } from \"components/firebase/firebaseClient\";\n\nclass Widget13Component extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    firestoreClient.collection(\"activities\").where(\"leaderId\", \"==\", this.props.firebase.user_id).orderBy(\"date\", \"desc\").limit(12).get().then(querySnapshot => {\n      const list = [];\n      querySnapshot.forEach(doc => {\n        const data = doc.data();\n        const time = new Date(data.date.seconds * 1000).toLocaleTimeString('es-ES', {\n          hour12: false\n        });\n        list.push({\n          time: time.substr(0, time.lastIndexOf(\":\")),\n          date: new Date(data.date.seconds * 1000),\n          color: data.color || \"info\",\n          content: () => __jsx(\"p\", {\n            className: \"mb-0\"\n          }, data.msn)\n        });\n      });\n      this.setState({\n        data: list\n      });\n    }).catch(error => {\n      console.log(\"Error getting documents: \", error);\n    });\n  }\n\n  render() {\n    return __jsx(Portlet, null, __jsx(Portlet.Header, null, __jsx(Portlet.Icon, null, __jsx(FontAwesomeIcon, {\n      icon: SolidIcon.faClipboardList\n    })), __jsx(Portlet.Title, null, \"Recent activities\")), __jsx(Portlet.Body, null, __jsx(Timeline, {\n      timed: true\n    }, this.state.data.map((data, index) => {\n      const {\n        time,\n        date,\n        color,\n        content: Content\n      } = data;\n      return __jsx(Timeline.Item, {\n        key: index,\n        date: date,\n        time: time,\n        pin: __jsx(Marker, {\n          type: \"circle\",\n          variant: color\n        })\n      }, __jsx(Content, null));\n    }))));\n  }\n\n}\n\nexport default Widget13Component;","map":null,"metadata":{},"sourceType":"module"}