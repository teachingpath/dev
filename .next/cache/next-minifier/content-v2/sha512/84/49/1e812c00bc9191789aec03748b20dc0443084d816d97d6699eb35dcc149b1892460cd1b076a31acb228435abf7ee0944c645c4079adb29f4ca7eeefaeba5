{"code":"_N_E=(self.webpackJsonp_N_E=self.webpackJsonp_N_E||[]).push([[82],{CkOU:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),o=n(\"jwaz\"),c=n(\"NKCw\"),i=n(\"UGp+\"),u=n(\"NWhz\"),s=n(\"nOHt\"),l=n.n(s),d=a.a.createElement;t.default=function(e){var t=e.onSave,n=e.data,r=i.d().shape({name:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your name\"),description:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your description\"),feedback:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your feedback\")}),a=Object(c.e)({resolver:Object(u.a)(r),defaultValues:{name:(null===n||void 0===n?void 0:n.name)||\"\",description:(null===n||void 0===n?void 0:n.description)||\"\",feedback:(null===n||void 0===n?void 0:n.feedback)||\"\"}}),s=a.control,f=a.errors,p=a.handleSubmit,b=a.reset;return d(o.A,{onSubmit:p((function(e){t(e).then((function(){b()}))}))},d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:\"text\",id:\"name\",name:\"name\",control:s,invalid:Boolean(f.name),placeholder:\"Insert your name\"}),d(o.F,{for:\"name\"},\"Name\"),f.name&&d(o.A.Feedback,{children:f.name.message}))),d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:\"textarea\",id:\"description\",name:\"description\",control:s,invalid:Boolean(f.description),placeholder:\"Insert your description\"}),d(o.F,{for:\"description\"},\"Description\"),f.description&&d(o.A.Feedback,{children:f.description.message}))),d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:\"textarea\",id:\"feedback\",name:\"feedback\",control:s,invalid:Boolean(f.feedback),placeholder:\"Insert your closure feddback\"}),d(o.F,{for:\"feedback\"},\"Closure feedback\"),f.feedback&&d(o.A.Feedback,{children:f.feedback.message}))),d(o.h,{type:\"submit\",variant:\"primary\",className:\"ml-2\"},null===n||void 0===n?\"Create\":\"Update\"),d(o.h,{type:\"button\",className:\"ml-2\",onClick:function(){l.a.back()}},\"Cancel\"))}},QQw3:function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"1OyB\"),o=n(\"vuIU\"),c=n(\"JX7q\"),i=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),l=n(\"q1tI\"),d=n.n(l),f=n(\"jwaz\"),p=n(\"N1Wf\"),b=n(\"0ci1\"),h=n(\"ANjH\"),y=n(\"/MKj\"),O=n(\"tCCL\"),m=n(\"qGWM\"),v=n(\"8Kt/\"),j=n.n(v),g=n(\"nOHt\"),w=n.n(g),P=n(\"sXnO\"),k=n(\"2BYM\"),I=n.n(k),C=n(\"tx4t\"),E=n(\"CkOU\"),D=d.a.createElement;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var B=I()(P.a),A=B.mixin({toast:!0,position:\"top-end\",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener(\"mouseenter\",B.stopTimer),e.addEventListener(\"mouseleave\",B.resumeTimer)}}),R=function(e){Object(i.a)(n,e);var t=q(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),w.a.query.pathwayId&&w.a.query.runnerId?(r.state={pathwayId:w.a.query.pathwayId,runnerId:w.a.query.runnerId,saved:!1},r.onEdit=r.onEdit.bind(Object(c.a)(r)),r.loadData=r.loadData.bind(Object(c.a)(r))):w.a.push(\"/pathway/create\"),r}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){this.props.pageChangeHeaderTitle(\"Update Pathway\"),this.props.breadcrumbChange([{text:\"Pathway\",link:\"/\"},{text:\"Runner\",link:\"/runner/create?pathwayId=\"+w.a.query.pathwayId},{text:\"Edit\"}]),this.loadData()}},{key:\"loadData\",value:function(){var e=this;p.b.collection(\"runners\").doc(this.state.runnerId).get().then((function(t){t.exists?e.setState(x({id:e.state.runnerId,saved:!0},t.data())):console.log(\"No such document!\")})).catch((function(e){console.log(\"Error getting documents: \",e),A.fire({icon:\"error\",title:\"Getting a runner\"})}))}},{key:\"onEdit\",value:function(e){var t=this;return p.b.collection(\"runners\").doc(this.state.runnerId).update(x({},e)).then((function(n){t.setState(x({pathwayId:t.state.pathwayId,runnerId:t.state.runnerId,saved:!0},e)),A.fire({icon:\"success\",title:\"Runner saved successfully\"}),t.props.activityChange(x({pathwayId:t.state.pathwayId,type:\"edit_runner\",msn:'The \"'+e.name+'\" runner was updated.'},e))})).catch((function(e){console.error(\"Error adding document: \",e),A.fire({icon:\"error\",title:\"Creation runner\"})}))}},{key:\"render\",value:function(){return this.state.saved?D(d.a.Fragment,null,D(j.a,null,D(\"title\",null,\"Runner | Update\")),D(f.t,{fluid:!0},D(f.Q,null,D(f.r,{md:\"6\"},D(f.N,null,D(f.N.Header,{bordered:!0},D(f.N.Title,null,\"Runner | Update\")),D(f.N.Body,null,D(\"p\",null,\"After creating the Pathway you must create the runners to add the tracks.\"),D(\"hr\",null),D(E.default,{onSave:this.onEdit,data:this.state}))))))):D(C.a,null,\"Loading\")}}]),n}(d.a.Component);t.default=Object(y.b)(null,(function(e){return Object(h.bindActionCreators)({pageChangeHeaderTitle:b.e,breadcrumbChange:b.c,activityChange:b.a},e)}))(Object(m.a)(Object(O.a)(R)))},qGWM:function(e,t,n){\"use strict\";var r=n(\"o0o1\"),a=n.n(r),o=n(\"rePB\"),c=n(\"HaE+\"),i=n(\"1OyB\"),u=n(\"vuIU\"),s=n(\"Ji7U\"),l=n(\"md7G\"),d=n(\"foSv\"),f=n(\"q1tI\"),p=n.n(f),b=n(\"ANjH\"),h=n(\"0ci1\"),y=n(\"/MKj\"),O=n(\"qP+2\"),m=n(\"nOHt\"),v=n.n(m),j=n(\"s6m4\"),g=p.a.createElement;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}t.a=function(e){var t=function(t){Object(s.a)(r,t);var n=k(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:\"componentDidMount\",value:function(){this.props.firebaseChange(this.props.firebase)}},{key:\"render\",value:function(){return g(e,this.props)}}],[{key:\"getInitialProps\",value:function(){var t=Object(c.a)(a.a.mark((function t(n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},!e.getInitialProps){t.next=5;break}return t.next=4,e.getInitialProps(n);case 4:r=t.sent;case 5:return t.next=7,Object(O.a)(n);case 7:if(o=t.sent){t.next=11;break}return n.res?(n.res.writeHead(302,{Location:j.a.loginPagePath}),n.res.end()):v.a.push(j.a.loginPagePath),t.abrupt(\"return\",P(P({},r),{},{firebase:null}));case 11:return t.abrupt(\"return\",P(P({},r),{},{firebase:o}));case 12:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),r}(p.a.Component);return Object(y.b)(null,(function(e){return Object(b.bindActionCreators)({firebaseChange:h.d},e)}))(t)}},zW4A:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/runner/edit\",function(){return n(\"QQw3\")}])}},[[\"zW4A\",0,1,3,9,11,2,4,5,6,7,8,10,12]]]);","extractedComments":[]}