{"code":"_N_E=(this.webpackJsonp_N_E=this.webpackJsonp_N_E||[]).push([[84],{hmaV:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/track/edit\",function(){return r(\"rJNG\")}])},rJNG:function(t,e,r){\"use strict\";r.r(e);var n=r(\"rePB\"),a=r(\"1OyB\"),c=r(\"vuIU\"),o=r(\"JX7q\"),i=r(\"Ji7U\"),u=r(\"md7G\"),s=r(\"foSv\"),d=r(\"q1tI\"),l=r.n(d),h=r(\"jwaz\"),p=r(\"N1Wf\"),f=r(\"0ci1\"),y=r(\"ANjH\"),b=r(\"/MKj\"),O=r(\"tCCL\"),v=r(\"qGWM\"),m=r(\"8Kt/\"),I=r.n(m),k=r(\"nOHt\"),w=r.n(k),g=r(\"sXnO\"),j=r(\"2BYM\"),E=r.n(j),P=r(\"rrmv\"),_=r(\"tx4t\"),T=l.a.createElement;function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(s.a)(t);if(e){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var B=E()(g.a),x=B.mixin({toast:!0,position:\"top-end\",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(t){t.addEventListener(\"mouseenter\",B.stopTimer),t.addEventListener(\"mouseleave\",B.resumeTimer)}}),D=function(t){Object(i.a)(r,t);var e=N(r);function r(t){var n;return Object(a.a)(this,r),n=e.call(this,t),w.a.query.runnerId&&w.a.query.trackId?(n.state={pathwayId:w.a.query.pathwayId,runnerId:w.a.query.runnerId,trackId:w.a.query.trackId,saved:!1},n.onEdit=n.onEdit.bind(Object(o.a)(n))):w.a.push(\"/pathway/create\"),n}return Object(c.a)(r,[{key:\"componentDidMount\",value:function(){this.props.pageChangeHeaderTitle(\"Update Pathway\"),this.props.breadcrumbChange([{text:\"Pathway\",link:\"/\"},{text:\"Runner\",link:\"/runner/create?pathwayId=\"+w.a.query.pathwayId},{text:\"Track\"}]),this.loadData()}},{key:\"loadData\",value:function(){var t=this;p.b.collection(\"runners\").doc(this.state.runnerId).collection(\"tracks\").doc(this.state.trackId).get().then((function(e){e.exists?t.setState(C({id:t.state.trackId,saved:!0},e.data())):console.log(\"No such document!\")})).catch((function(t){console.log(\"Error getting documents: \",t),x.fire({icon:\"error\",title:\"Getting a runner\"})}))}},{key:\"onEdit\",value:function(t){var e=this;return p.b.collection(\"runners\").doc(this.state.runnerId).collection(\"tracks\").doc(this.state.trackId).update(C({},t)).then((function(r){e.setState(C({pathwayId:e.state.pathwayId,runnerId:e.state.runnerId,trackId:e.state.trackId},t)),x.fire({icon:\"success\",title:\"Track saved successfully\"}),e.props.activityChange(C({pathwayId:e.state.pathwayId,type:\"edit_track\",msn:'The \"'+t.name+'\" track was updated.'},t))})).catch((function(t){console.error(\"Error adding document: \",t),x.fire({icon:\"error\",title:\"Update track\"})}))}},{key:\"render\",value:function(){return this.state.saved?T(l.a.Fragment,null,T(I.a,null,T(\"title\",null,\"Track | Edit\")),T(h.s,{fluid:!0},T(h.L,null,T(h.q,{md:\"6\"},T(h.I,null,T(h.I.Header,{bordered:!0},T(h.I.Title,null,\"Track | Edit\")),T(h.I.Body,null,T(\"p\",null,\"After creating the Pathway you must create the runners to add the tracks.\"),T(\"hr\",null),T(P.default,{onSave:this.onEdit,data:this.state}))))))):T(_.a,null,\"Loading\")}}]),r}(l.a.Component);e.default=Object(b.a)(null,(function(t){return Object(y.a)({pageChangeHeaderTitle:f.d,breadcrumbChange:f.b,activityChange:f.a},t)}))(Object(v.a)(Object(O.a)(D)))}},[[\"hmaV\",0,1,4,8,10,3,2,5,6,7,9,11,16]]]);","extractedComments":[]}