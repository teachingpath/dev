{"code":"_N_E=(self.webpackJsonp_N_E=self.webpackJsonp_N_E||[]).push([[90],{\"2ac+\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/track/trackList\",function(){return n(\"6jqL\")}])},\"6jqL\":function(t,e,n){\"use strict\";n.r(e);var r=n(\"rePB\"),o=n(\"1OyB\"),c=n(\"vuIU\"),a=n(\"JX7q\"),i=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),l=n(\"q1tI\"),d=n.n(l),p=n(\"jwaz\"),f=n(\"N1Wf\"),h=n(\"wHSu\"),v=n(\"M4kO\"),b=n(\"IP2g\"),y=n(\"nOHt\"),O=n.n(y),j=d.a.createElement;function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(s.a)(t);if(e){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var P=function(t){Object(i.a)(n,t);var e=w(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).state={data:[]},r.onSortList=r.onSortList.bind(Object(a.a)(r)),r}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){var t=this;f.b.collection(\"runners\").doc(this.props.runnerId).collection(\"tracks\").orderBy(\"level\").get().then((function(e){var n=[];e.forEach((function(t){n.push({id:t.id,title:t.data().name,subtitle:t.data().description})})),t.setState(k(k({},t.state),{},{data:n}))})).catch((function(t){console.log(\"Error getting documents: \",t)}))}},{key:\"onDelete\",value:function(t){var e=this;f.b.collection(\"runners\").doc(this.props.runnerId).collection(\"tracks\").doc(t).delete().then((function(){console.log(\"Document successfully deleted!\"),e.componentDidMount()})).catch((function(t){console.error(\"Error removing document: \",t)}))}},{key:\"onSortList\",value:function(t){var e=this;t.forEach((function(t,n){f.b.collection(\"runners\").doc(e.props.runnerId).collection(\"tracks\").doc(t.id).update({level:n}).catch((function(t){console.error(\"Error removing document: \",t)}))})),this.setState({data:t})}},{key:\"shouldComponentUpdate\",value:function(t,e){var n,r;return(null===(n=this.props.data)||void 0===n?void 0:n.trackId)!==(null===(r=t.data)||void 0===r?void 0:r.trackId)&&this.componentDidMount(),!0}},{key:\"render\",value:function(){var t=this;return j(p.P,{bordered:!0,action:!0},j(v.ReactSortable,{list:this.state.data,setList:this.onSortList},this.state.data.map((function(e,n){var r=e.title,o=e.subtitle,c=e.id;return j(p.P.Item,{key:n,href:\"javascript:void(0)\"},j(p.P.Addon,{addonType:\"prepend\"},j(p.c,{display:!0},j(b.a,{icon:h.Bb}))),j(p.P.Content,null,j(p.P.Title,null,r),j(p.P.Subtitle,null,o)),j(p.P.Addon,{addonType:\"append\"},j(p.w.Uncontrolled,null,j(p.w.Toggle,{icon:!0,variant:\"text-secondary\",href:\"javascript:void(0)\"},j(b.a,{icon:h.X})),j(p.w.Menu,{right:!0,animated:!0},j(p.w.Item,{href:\"javascript:void(0)\",onClick:function(){O.a.push({pathname:\"/track/edit\",query:{trackId:c,runnerId:t.props.runnerId,pathwayId:t.props.pathwayId}})},icon:j(b.a,{icon:h.W})},\"Editar\"),j(p.w.Item,{href:\"javascript:void(0)\",onClick:function(){t.onDelete(c)},icon:j(b.a,{icon:h.Kb})},\"Delete\")))))}))))}}]),n}(d.a.Component);e.default=P}},[[\"2ac+\",0,1,3,9,11,2,4,10,14]]]);","extractedComments":[]}