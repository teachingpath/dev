{"code":"_N_E=(this.webpackJsonp_N_E=this.webpackJsonp_N_E||[]).push([[78],{CkOU:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),o=n(\"jwaz\"),i=n(\"NKCw\"),c=n(\"UGp+\"),u=n(\"NWhz\"),s=n(\"nOHt\"),l=n.n(s),d=a.a.createElement;t.default=function(e){var t=e.onSave,n=e.data,r=c.d().shape({name:c.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your name\"),description:c.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your description\"),feedback:c.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your feedback\")}),a=Object(i.e)({resolver:Object(u.a)(r),defaultValues:{name:(null===n||void 0===n?void 0:n.name)||\"\",description:(null===n||void 0===n?void 0:n.description)||\"\",feedback:(null===n||void 0===n?void 0:n.feedback)||\"\"}}),s=a.control,p=a.errors,f=a.handleSubmit,h=a.reset;return d(o.x,{onSubmit:f((function(e){t(e).then((function(){h()}))}))},d(o.x.Group,null,d(o.w,null,d(i.a,{as:o.z,type:\"text\",id:\"name\",name:\"name\",control:s,invalid:Boolean(p.name),placeholder:\"Insert your name\"}),d(o.B,{for:\"name\"},\"Name\"),p.name&&d(o.x.Feedback,{children:p.name.message}))),d(o.x.Group,null,d(o.w,null,d(i.a,{as:o.z,type:\"textarea\",id:\"description\",name:\"description\",control:s,invalid:Boolean(p.description),placeholder:\"Insert your description\"}),d(o.B,{for:\"description\"},\"Description\"),p.description&&d(o.x.Feedback,{children:p.description.message}))),d(o.x.Group,null,d(o.w,null,d(i.a,{as:o.z,type:\"textarea\",id:\"feedback\",name:\"feedback\",control:s,invalid:Boolean(p.feedback),placeholder:\"Insert your closure feddback\"}),d(o.B,{for:\"feedback\"},\"Closure feedback\"),p.feedback&&d(o.x.Feedback,{children:p.feedback.message}))),d(o.g,{type:\"submit\",variant:\"primary\",className:\"ml-2\"},null===n||void 0===n?\"Create\":\"Update\"),d(o.g,{type:\"button\",className:\"ml-2\",onClick:function(){l.a.back()}},\"Cancel\"))}},QQw3:function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"1OyB\"),o=n(\"vuIU\"),i=n(\"JX7q\"),c=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),l=n(\"q1tI\"),d=n.n(l),p=n(\"jwaz\"),f=n(\"N1Wf\"),h=n(\"0ci1\"),b=n(\"ANjH\"),y=n(\"/MKj\"),m=n(\"tCCL\"),v=n(\"qGWM\"),O=n(\"8Kt/\"),w=n.n(O),g=n(\"nOHt\"),j=n.n(g),k=n(\"sXnO\"),I=n(\"2BYM\"),P=n.n(I),C=n(\"tx4t\"),E=n(\"CkOU\"),x=d.a.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var _=P()(k.a),D=_.mixin({toast:!0,position:\"top-end\",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener(\"mouseenter\",_.stopTimer),e.addEventListener(\"mouseleave\",_.resumeTimer)}}),R=function(e){Object(c.a)(n,e);var t=N(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),j.a.query.pathwayId&&j.a.query.runnerId?(r.state={pathwayId:j.a.query.pathwayId,runnerId:j.a.query.runnerId,saved:!1},r.onEdit=r.onEdit.bind(Object(i.a)(r)),r.loadData=r.loadData.bind(Object(i.a)(r))):j.a.push(\"/pathway/create\"),r}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){this.props.pageChangeHeaderTitle(\"Update Pathway\"),this.props.breadcrumbChange([{text:\"Pathway\",link:\"/\"},{text:\"Runner\",link:\"/runner/create?pathwayId=\"+j.a.query.pathwayId},{text:\"Edit\"}]),this.loadData()}},{key:\"loadData\",value:function(){var e=this;f.b.collection(\"runners\").doc(this.state.runnerId).get().then((function(t){t.exists?e.setState(q({id:e.state.runnerId,saved:!0},t.data())):console.log(\"No such document!\")})).catch((function(e){console.log(\"Error getting documents: \",e),D.fire({icon:\"error\",title:\"Getting a runner\"})}))}},{key:\"onEdit\",value:function(e){var t=this;return f.b.collection(\"runners\").doc(this.state.runnerId).update(q({},e)).then((function(n){t.setState(q({pathwayId:t.state.pathwayId,runnerId:t.state.runnerId,saved:!0},e)),D.fire({icon:\"success\",title:\"Runner saved successfully\"}),t.props.activityChange(q({pathwayId:t.state.pathwayId,type:\"edit_runner\",msn:'The \"'+e.name+'\" runner was updated.'},e))})).catch((function(e){console.error(\"Error adding document: \",e),D.fire({icon:\"error\",title:\"Creation runner\"})}))}},{key:\"render\",value:function(){return this.state.saved?x(d.a.Fragment,null,x(w.a,null,x(\"title\",null,\"Runner | Update\")),x(p.s,{fluid:!0},x(p.L,null,x(p.q,{md:\"6\"},x(p.I,null,x(p.I.Header,{bordered:!0},x(p.I.Title,null,\"Runner | Update\")),x(p.I.Body,null,x(\"p\",null,\"After creating the Pathway you must create the runners to add the tracks.\"),x(\"hr\",null),x(E.default,{onSave:this.onEdit,data:this.state}))))))):x(C.a,null,\"Loading\")}}]),n}(d.a.Component);t.default=Object(y.a)(null,(function(e){return Object(b.a)({pageChangeHeaderTitle:h.d,breadcrumbChange:h.b,activityChange:h.a},e)}))(Object(v.a)(Object(m.a)(R)))},zW4A:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/runner/edit\",function(){return n(\"QQw3\")}])}},[[\"zW4A\",0,1,4,8,10,3,2,5,6,7,9,11]]]);","extractedComments":[]}