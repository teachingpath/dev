{"code":"_N_E=(self.webpackJsonp_N_E=self.webpackJsonp_N_E||[]).push([[76],{\"3UD+\":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,\"exports\",{enumerable:!0}),t.webpackPolyfill=1}return t}},Xqpy:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/pathway/trophy\",function(){return r(\"tclJ\")}])},tclJ:function(e,t,r){\"use strict\";r.r(t);var n=r(\"rePB\"),o=r(\"q1tI\"),i=r.n(o),a=r(\"jwaz\"),s=r(\"N1Wf\"),l=r(\"NKCw\"),c=r(\"UGp+\"),p=r(\"NWhz\"),u=r(\"sXnO\"),d=r(\"2BYM\"),y=r.n(d),f=r(\"RLfC\"),m=r.n(f),h=i.a.createElement;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=y()(u.a),O=w.mixin({toast:!0,position:\"top-end\",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener(\"mouseenter\",w.stopTimer),e.addEventListener(\"mouseleave\",w.resumeTimer)}});t.default=function(e){var t,r=e.pathwayId,n=e.saved,i=e.data,u=e.activityChange,d=Object(o.useState)({preview:(null===i||void 0===i||null===(t=i.image)||void 0===t?void 0:t.preview)||\"\",src:\"\"}),y=d[0],f=d[1],b=c.d().shape({name:c.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your name\"),description:c.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your description\"),points:c.c().min(100,\"Please enter at least 10 points\").required(\"Please enter your points\")}),w=Object(l.e)({resolver:Object(p.a)(b),defaultValues:{name:(null===i||void 0===i?void 0:i.name)||\"\",description:(null===i||void 0===i?void 0:i.description)||\"\",points:(null===i||void 0===i?void 0:i.points)||100}}),P=w.control,g=w.handleSubmit,j=w.errors;return h(a.A,{onSubmit:g((function(e){!function(e){s.b.collection(\"pathways\").doc(r).update({trophy:v({},e)}).then((function(t){O.fire({icon:\"success\",title:\"Trophy saved successfully\"}),u({pathwayId:r,type:\"edit_pathway\",msn:'The \"'+e.name+'\" trophy was changed.'})})).catch((function(e){O.fire({icon:\"error\",title:\"Updating trophy\"})}))}(v(v({},e),{},{image:y}))}))},h(a.Q,null,h(a.r,{xs:\"6\"},h(a.A.Group,null,h(m.a,{width:130,height:130,onCrop:function(e){f({preview:e})},onClose:function(){f({preview:null})},onBeforeFileLoad:function(e){e.target.files[0].size>71680&&(O.fire({icon:\"error\",title:\"The image is very large\"}),e.target.value=\"\")},src:y.src,label:\"Trophy icon\"}))),h(a.r,{xs:\"6\"},h(a.A.Group,null,y.preview&&h(\"img\",{src:y.preview,alt:\"Preview\"}))),h(a.r,{xs:\"12\"},h(a.A.Group,null,h(a.y,null,h(l.a,{as:a.D,type:\"text\",id:\"trophy-name\",name:\"name\",control:P,invalid:Boolean(j.name),placeholder:\"Insert your name\"}),h(a.F,{for:\"trophy-name\"},\"Name\"),j.name&&h(a.A.Feedback,{children:j.name.message}))),h(a.A.Group,null,h(a.y,null,h(l.a,{as:a.D,type:\"textarea\",id:\"trophy-description\",name:\"description\",control:P,invalid:Boolean(j.description),placeholder:\"Insert your description\"}),h(a.F,{for:\"trophy-description\"},\"Description\"),j.description&&h(a.A.Feedback,{children:j.description.message}))),h(a.A.Group,null,h(a.y,null,h(l.a,{as:a.D,type:\"number\",id:\"trophy-points\",name:\"points\",control:P,invalid:Boolean(j.points),placeholder:\"Insert your points\"}),h(a.F,{for:\"trophy-points\"},\"Points\"),j.points&&h(a.A.Feedback,{children:j.points.message}))))),h(a.h,{type:\"submit\",variant:\"primary\",disabled:!n},null===i||void 0===i?\"Add\":\"Update\"))}}},[[\"Xqpy\",0,1,3,9,11,2,8,10,12,13]]]);","extractedComments":[]}