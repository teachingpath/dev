{"code":"_N_E=(this.webpackJsonp_N_E=this.webpackJsonp_N_E||[]).push([[77],{\"+TVH\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/runner/create\",function(){return n(\"8RLk\")}])},\"8/9Z\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"1OyB\"),o=n(\"vuIU\"),c=n(\"JX7q\"),i=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),l=n(\"q1tI\"),d=n.n(l),p=n(\"jwaz\"),f=n(\"N1Wf\"),h=n(\"M4kO\"),v=n(\"wHSu\"),b=n(\"IP2g\"),y=n(\"nOHt\"),m=n.n(y),O=d.a.createElement;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var g=function(e){Object(i.a)(n,e);var t=I(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={data:e.data||[]},r.onSortList=r.onSortList.bind(Object(c.a)(r)),r}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;f.b.collection(\"runners\").where(\"pathwayId\",\"==\",this.props.pathwayId).orderBy(\"level\").get().then((function(t){var n=[];t.forEach((function(e){n.push({id:e.id,title:e.data().name,subtitle:e.data().description})})),e.setState(j(j({},e.state),{},{data:n}))})).catch((function(e){console.log(\"Error getting documents: \",e)}))}},{key:\"onDelete\",value:function(e){var t=this;f.b.collection(\"runners\").doc(e).delete().then((function(){t.componentDidMount()})).catch((function(e){console.error(\"Error removing document: \",e)}))}},{key:\"onSortList\",value:function(e){e.forEach((function(e,t){f.b.collection(\"runners\").doc(e.id).update({level:t}).catch((function(e){console.error(\"Error removing document: \",e)}))})),this.setState({data:e})}},{key:\"shouldComponentUpdate\",value:function(e,t){var n,r;return(null===(n=this.props.item)||void 0===n?void 0:n.runnerId)!==(null===(r=e.item)||void 0===r?void 0:r.runnerId)&&this.componentDidMount(),!0}},{key:\"render\",value:function(){var e=this;return O(p.K,{bordered:!0,action:!0},O(h.ReactSortable,{list:this.state.data,setList:this.onSortList},this.state.data.map((function(t,n){var r=t.title,a=t.subtitle,o=t.id;return O(p.K.Item,{key:n,href:\"javascript:void(0)\"},O(p.K.Addon,{addonType:\"prepend\"},O(p.c,{display:!0},O(b.a,{icon:v.vb}))),O(p.K.Content,null,O(p.K.Title,null,r),O(p.K.Subtitle,null,a)),O(p.K.Addon,{addonType:\"append\"},O(p.v.Uncontrolled,null,O(p.v.Toggle,{icon:!0,variant:\"text-secondary\",href:\"javascript:void(0)\"},O(b.a,{icon:v.W})),O(p.v.Menu,{right:!0,animated:!0},O(p.v.Item,{href:\"javascript:void(0)\",onClick:function(){m.a.push({pathname:\"/runner/edit\",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(b.a,{icon:v.V})},\"Editar\"),O(p.v.Item,{href:\"javascript:void(0)\",onClick:function(){e.onDelete(o)},icon:O(b.a,{icon:v.Bb})},\"Delete\"),O(p.v.Divider,null),O(p.v.Item,{href:\"javascript:void(0)\",onClick:function(){m.a.push({pathname:\"/runner/quiz\",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(b.a,{icon:v.rb})},\"Add Quiz\"),O(p.v.Item,{href:\"javascript:void(0)\",onClick:function(){m.a.push({pathname:\"/track/create\",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(b.a,{icon:v.lb})},\"Add Tracks\")))))}))))}}]),n}(d.a.Component);t.default=g},\"8RLk\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"1OyB\"),o=n(\"vuIU\"),c=n(\"JX7q\"),i=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),l=n(\"q1tI\"),d=n.n(l),p=n(\"jwaz\"),f=n(\"N1Wf\"),h=n(\"0ci1\"),v=n(\"ANjH\"),b=n(\"/MKj\"),y=n(\"tCCL\"),m=n(\"qGWM\"),O=n(\"8Kt/\"),w=n.n(O),j=n(\"wp5G\"),I=n(\"nOHt\"),g=n.n(I),k=n(\"sXnO\"),x=n(\"2BYM\"),C=n.n(x),P=n(\"8/9Z\"),S=n(\"CkOU\"),q=n(\"wHSu\"),B=n(\"IP2g\"),E=d.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var N=C()(k.a),_=N.mixin({toast:!0,position:\"top-end\",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener(\"mouseenter\",N.stopTimer),e.addEventListener(\"mouseleave\",N.resumeTimer)}}),z=function(e){Object(i.a)(n,e);var t=R(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),g.a.query.pathwayId?(r.state={pathwayId:g.a.query.pathwayId,runnerId:null,saved:!1},r.onCreate=r.onCreate.bind(Object(c.a)(r))):g.a.push(\"/pathway/create\"),r}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){this.props.pageChangeHeaderTitle(\"Update Pathway\"),this.props.breadcrumbChange([{text:\"Pathway\",link:\"/\"},{text:\"Runner\"}])}},{key:\"onCreate\",value:function(e){var t=this,n=Object(j.a)();return f.b.collection(\"runners\").doc(n).set(D({level:1,pathwayId:this.state.pathwayId},e)).then((function(r){t.setState(D({pathwayId:t.state.pathwayId,saved:!0,runnerId:n},e)),_.fire({icon:\"success\",title:\"Runner saved successfully\"}),t.props.activityChange(D({pathwayId:t.state.pathwayId,type:\"new_runner\",msn:'The \"'+e.name+'\" runner was created.'},e))})).catch((function(e){console.error(\"Error adding document: \",e),_.fire({icon:\"error\",title:\"Creation runner\"})}))}},{key:\"render\",value:function(){var e=this;return E(d.a.Fragment,null,E(w.a,null,E(\"title\",null,\"Runner | Create\")),E(p.s,{fluid:!0},E(p.L,null,E(p.q,{md:\"6\"},E(p.I,null,E(p.I.Header,{bordered:!0},E(p.I.Title,null,\"Runner | Create\")),E(p.I.Body,null,E(\"p\",null,\"The runners are the objectives that contain tasks or tracks to achieve that objective, each objective must be created a quiz.\"),E(\"hr\",null),E(S.default,{onSave:this.onCreate})),E(p.I.Footer,null,E(p.g,{type:\"button\",disabled:!this.state.saved,className:\"float-right ml-2\",onClick:function(){g.a.push({pathname:\"/runner/quiz\",query:{runnerId:e.state.runnerId,pathwayId:e.props.pathwayId}})}},\"Add Quiz\",E(B.a,{className:\"ml-2\",icon:q.pb})),E(p.g,{type:\"button\",disabled:!this.state.saved,className:\"float-right\",onClick:function(){g.a.push({pathname:\"/track/create\",query:{runnerId:e.state.runnerId,pathwayId:e.props.pathwayId}})}},\"Add Tracks\",E(B.a,{className:\"ml-2\",icon:q.pb}))))),E(p.q,{md:\"6\"},E(p.I,null,E(p.I.Header,{bordered:!0},E(p.I.Title,null,\"Runners\")),E(p.I.Body,null,E(P.default,{pathwayId:this.state.pathwayId,item:this.state})))))))}}]),n}(d.a.Component);t.default=Object(b.a)(null,(function(e){return Object(v.a)({pageChangeHeaderTitle:h.d,breadcrumbChange:h.b,activityChange:h.a},e)}))(Object(m.a)(Object(y.a)(z)))},CkOU:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),o=n(\"jwaz\"),c=n(\"NKCw\"),i=n(\"UGp+\"),u=n(\"NWhz\"),s=n(\"nOHt\"),l=n.n(s),d=a.a.createElement;t.default=function(e){var t=e.onSave,n=e.data,r=i.d().shape({name:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your name\"),description:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your description\"),feedback:i.f().min(5,\"Please enter at least 5 characters\").required(\"Please enter your feedback\")}),a=Object(c.e)({resolver:Object(u.a)(r),defaultValues:{name:(null===n||void 0===n?void 0:n.name)||\"\",description:(null===n||void 0===n?void 0:n.description)||\"\",feedback:(null===n||void 0===n?void 0:n.feedback)||\"\"}}),s=a.control,p=a.errors,f=a.handleSubmit,h=a.reset;return d(o.x,{onSubmit:f((function(e){t(e).then((function(){h()}))}))},d(o.x.Group,null,d(o.w,null,d(c.a,{as:o.z,type:\"text\",id:\"name\",name:\"name\",control:s,invalid:Boolean(p.name),placeholder:\"Insert your name\"}),d(o.B,{for:\"name\"},\"Name\"),p.name&&d(o.x.Feedback,{children:p.name.message}))),d(o.x.Group,null,d(o.w,null,d(c.a,{as:o.z,type:\"textarea\",id:\"description\",name:\"description\",control:s,invalid:Boolean(p.description),placeholder:\"Insert your description\"}),d(o.B,{for:\"description\"},\"Description\"),p.description&&d(o.x.Feedback,{children:p.description.message}))),d(o.x.Group,null,d(o.w,null,d(c.a,{as:o.z,type:\"textarea\",id:\"feedback\",name:\"feedback\",control:s,invalid:Boolean(p.feedback),placeholder:\"Insert your closure feddback\"}),d(o.B,{for:\"feedback\"},\"Closure feedback\"),p.feedback&&d(o.x.Feedback,{children:p.feedback.message}))),d(o.g,{type:\"submit\",variant:\"primary\",className:\"ml-2\"},null===n||void 0===n?\"Create\":\"Update\"),d(o.g,{type:\"button\",className:\"ml-2\",onClick:function(){l.a.back()}},\"Cancel\"))}},wp5G:function(e,t,n){\"use strict\";t.a=function(){var e=(new Date).getTime();return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(\"x\"==t?n:3&n|8).toString(16)}))}}},[[\"+TVH\",0,1,4,8,10,3,2,5,6,7,9,11,13]]]);","extractedComments":[]}