!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.self=t():e.self=t()}(this,(function(){return(this.webpackJsonpself=this.webpackJsonpself||[]).push([[81],{"+TVH":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/runner/create",function(){return n("8RLk")}])},"8/9Z":function(e,t,n){"use strict";n.r(t);var r=n("rePB"),a=n("1OyB"),o=n("vuIU"),c=n("JX7q"),i=n("Ji7U"),u=n("md7G"),s=n("foSv"),l=n("q1tI"),d=n.n(l),p=n("jwaz"),f=n("N1Wf"),h=n("M4kO"),b=n("wHSu"),y=n("IP2g"),v=n("nOHt"),m=n.n(v),O=d.a.createElement;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var P=function(e){Object(i.a)(n,e);var t=g(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={data:e.data||[]},r.onSortList=r.onSortList.bind(Object(c.a)(r)),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.b.collection("runners").where("pathwayId","==",this.props.pathwayId).orderBy("level").get().then((function(t){var n=[];t.forEach((function(e){n.push({id:e.id,title:e.data().name,subtitle:e.data().description})})),e.setState(w(w({},e.state),{},{data:n}))})).catch((function(e){console.log("Error getting documents: ",e)}))}},{key:"onDelete",value:function(e){var t=this;f.b.collection("runners").doc(e).delete().then((function(){t.componentDidMount()})).catch((function(e){console.error("Error removing document: ",e)}))}},{key:"onSortList",value:function(e){e.forEach((function(e,t){f.b.collection("runners").doc(e.id).update({level:t}).catch((function(e){console.error("Error removing document: ",e)}))})),this.setState({data:e})}},{key:"shouldComponentUpdate",value:function(e,t){var n,r;return(null===(n=this.props.item)||void 0===n?void 0:n.runnerId)!==(null===(r=e.item)||void 0===r?void 0:r.runnerId)&&this.componentDidMount(),!0}},{key:"render",value:function(){var e=this;return O(p.P,{bordered:!0,action:!0},O(h.ReactSortable,{list:this.state.data,setList:this.onSortList},this.state.data.map((function(t,n){var r=t.title,a=t.subtitle,o=t.id;return O(p.P.Item,{key:n,href:"javascript:void(0)"},O(p.P.Addon,{addonType:"prepend"},O(p.c,{display:!0},O(y.a,{icon:b.Bb}))),O(p.P.Content,null,O(p.P.Title,null,r),O(p.P.Subtitle,null,a)),O(p.P.Addon,{addonType:"append"},O(p.w.Uncontrolled,null,O(p.w.Toggle,{icon:!0,variant:"text-secondary",href:"javascript:void(0)"},O(y.a,{icon:b.X})),O(p.w.Menu,{right:!0,animated:!0},O(p.w.Item,{href:"javascript:void(0)",onClick:function(){m.a.push({pathname:"/runner/edit",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(y.a,{icon:b.W})},"Editar"),O(p.w.Item,{href:"javascript:void(0)",onClick:function(){e.onDelete(o)},icon:O(y.a,{icon:b.Kb})},"Delete"),O(p.w.Divider,null),O(p.w.Item,{href:"javascript:void(0)",onClick:function(){m.a.push({pathname:"/runner/quiz",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(y.a,{icon:b.wb})},"Add Quiz"),O(p.w.Item,{href:"javascript:void(0)",onClick:function(){m.a.push({pathname:"/track/create",query:{runnerId:o,pathwayId:e.props.pathwayId}})},icon:O(y.a,{icon:b.ob})},"Add Tracks")))))}))))}}]),n}(d.a.Component);t.default=P},"8RLk":function(e,t,n){"use strict";n.r(t);var r=n("rePB"),a=n("1OyB"),o=n("vuIU"),c=n("JX7q"),i=n("Ji7U"),u=n("md7G"),s=n("foSv"),l=n("q1tI"),d=n.n(l),p=n("jwaz"),f=n("N1Wf"),h=n("0ci1"),b=n("ANjH"),y=n("/MKj"),v=n("tCCL"),m=n("qGWM"),O=n("8Kt/"),j=n.n(O),w=n("wp5G"),g=n("nOHt"),P=n.n(g),k=n("sXnO"),I=n("2BYM"),x=n.n(I),C=n("8/9Z"),D=n("CkOU"),S=n("wHSu"),N=n("IP2g"),R=d.a.createElement;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var T=x()(k.a),A=T.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",T.stopTimer),e.addEventListener("mouseleave",T.resumeTimer)}}),H=function(e){Object(i.a)(n,e);var t=E(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),P.a.query.pathwayId?(r.state={pathwayId:P.a.query.pathwayId,runnerId:null,saved:!1},r.onCreate=r.onCreate.bind(Object(c.a)(r))):P.a.push("/pathway/create"),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.pageChangeHeaderTitle("Update Pathway"),this.props.breadcrumbChange([{text:"Pathway",link:"/"},{text:"Runner"}])}},{key:"onCreate",value:function(e){var t=this,n=Object(w.a)();return f.b.collection("runners").doc(n).set(B({level:1,pathwayId:this.state.pathwayId},e)).then((function(r){t.setState(B({pathwayId:t.state.pathwayId,saved:!0,runnerId:n},e)),A.fire({icon:"success",title:"Runner saved successfully"}),t.props.activityChange(B({pathwayId:t.state.pathwayId,type:"new_runner",msn:'The "'+e.name+'" runner was created.'},e))})).catch((function(e){console.error("Error adding document: ",e),A.fire({icon:"error",title:"Creation runner"})}))}},{key:"render",value:function(){var e=this;return R(d.a.Fragment,null,R(j.a,null,R("title",null,"Runner | Create")),R(p.t,{fluid:!0},R(p.Q,null,R(p.r,{md:"6"},R(p.N,null,R(p.N.Header,{bordered:!0},R(p.N.Title,null,"Runner | Create")),R(p.N.Body,null,R("p",null,"The runners are the objectives that contain tasks or tracks to achieve that objective, each objective must be created a quiz."),R("hr",null),R(D.default,{onSave:this.onCreate})),R(p.N.Footer,null,R(p.h,{type:"button",disabled:!this.state.saved,className:"float-right ml-2",onClick:function(){P.a.push({pathname:"/runner/quiz",query:{runnerId:e.state.runnerId,pathwayId:e.props.pathwayId}})}},"Add Quiz",R(N.a,{className:"ml-2",icon:S.ub})),R(p.h,{type:"button",disabled:!this.state.saved,className:"float-right",onClick:function(){P.a.push({pathname:"/track/create",query:{runnerId:e.state.runnerId,pathwayId:e.props.pathwayId}})}},"Add Tracks",R(N.a,{className:"ml-2",icon:S.ub}))))),R(p.r,{md:"6"},R(p.N,null,R(p.N.Header,{bordered:!0},R(p.N.Title,null,"Runners")),R(p.N.Body,null,R(C.default,{pathwayId:this.state.pathwayId,item:this.state})))))))}}]),n}(d.a.Component);t.default=Object(y.b)(null,(function(e){return Object(b.bindActionCreators)({pageChangeHeaderTitle:h.e,breadcrumbChange:h.c,activityChange:h.a},e)}))(Object(m.a)(Object(v.a)(H)))},CkOU:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("jwaz"),c=n("NKCw"),i=n("UGp+"),u=n("NWhz"),s=n("nOHt"),l=n.n(s),d=a.a.createElement;t.default=function(e){var t=e.onSave,n=e.data,r=i.d().shape({name:i.f().min(5,"Please enter at least 5 characters").required("Please enter your name"),description:i.f().min(5,"Please enter at least 5 characters").required("Please enter your description"),feedback:i.f().min(5,"Please enter at least 5 characters").required("Please enter your feedback")}),a=Object(c.e)({resolver:Object(u.a)(r),defaultValues:{name:(null===n||void 0===n?void 0:n.name)||"",description:(null===n||void 0===n?void 0:n.description)||"",feedback:(null===n||void 0===n?void 0:n.feedback)||""}}),s=a.control,p=a.errors,f=a.handleSubmit,h=a.reset;return d(o.A,{onSubmit:f((function(e){t(e).then((function(){h()}))}))},d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:"text",id:"name",name:"name",control:s,invalid:Boolean(p.name),placeholder:"Insert your name"}),d(o.F,{for:"name"},"Name"),p.name&&d(o.A.Feedback,{children:p.name.message}))),d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:"textarea",id:"description",name:"description",control:s,invalid:Boolean(p.description),placeholder:"Insert your description"}),d(o.F,{for:"description"},"Description"),p.description&&d(o.A.Feedback,{children:p.description.message}))),d(o.A.Group,null,d(o.y,null,d(c.a,{as:o.D,type:"textarea",id:"feedback",name:"feedback",control:s,invalid:Boolean(p.feedback),placeholder:"Insert your closure feddback"}),d(o.F,{for:"feedback"},"Closure feedback"),p.feedback&&d(o.A.Feedback,{children:p.feedback.message}))),d(o.h,{type:"submit",variant:"primary",className:"ml-2"},null===n||void 0===n?"Create":"Update"),d(o.h,{type:"button",className:"ml-2",onClick:function(){l.a.back()}},"Cancel"))}},qGWM:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("rePB"),c=n("HaE+"),i=n("1OyB"),u=n("vuIU"),s=n("Ji7U"),l=n("md7G"),d=n("foSv"),p=n("q1tI"),f=n.n(p),h=n("ANjH"),b=n("0ci1"),y=n("/MKj"),v=n("qP+2"),m=n("nOHt"),O=n.n(m),j=n("s6m4"),w=f.a.createElement;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}t.a=function(e){var t=function(t){Object(s.a)(r,t);var n=k(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.firebaseChange(this.props.firebase)}},{key:"render",value:function(){return w(e,this.props)}}],[{key:"getInitialProps",value:function(){var t=Object(c.a)(a.a.mark((function t(n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},!e.getInitialProps){t.next=5;break}return t.next=4,e.getInitialProps(n);case 4:r=t.sent;case 5:return t.next=7,Object(v.a)(n);case 7:if(o=t.sent){t.next=11;break}return n.res?(n.res.writeHead(302,{Location:j.a.loginPagePath}),n.res.end()):O.a.push(j.a.loginPagePath),t.abrupt("return",P(P({},r),{},{firebase:null}));case 11:return t.abrupt("return",P(P({},r),{},{firebase:o}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),r}(f.a.Component);return Object(y.b)(null,(function(e){return Object(h.bindActionCreators)({firebaseChange:b.d},e)}))(t)}},wp5G:function(e,t,n){"use strict";t.a=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}}},[["+TVH",0,1,3,9,11,2,4,5,6,7,8,10,12,14]]])}));