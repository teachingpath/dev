!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.self=t():e.self=t()}(this,(function(){return(this.webpackJsonpself=this.webpackJsonpself||[]).push([[80],{"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"RQ+B":function(e,t,n){"use strict";n.r(t);var r=n("rePB"),i=n("q1tI"),o=n.n(i),a=n("jwaz"),s=n("N1Wf"),c=n("NKCw"),l=n("UGp+"),u=n("NWhz"),d=n("sXnO"),p=n("2BYM"),f=n.n(p),b=n("RLfC"),m=n.n(b),y=o.a.createElement;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=f()(d.a),O=h.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",h.stopTimer),e.addEventListener("mouseleave",h.resumeTimer)}});t.default=function(e){var t,n=e.runnerId,r=e.saved,o=e.data,d=e.activityChange,p=e.pathwayId,f=o.badget,b=Object(i.useState)({preview:(null===f||void 0===f||null===(t=f.image)||void 0===t?void 0:t.preview)||"",src:""}),v=b[0],h=b[1],w=l.d().shape({name:l.f().min(5,"Please enter at least 5 characters").required("Please enter your name"),description:l.f().min(5,"Please enter at least 5 characters").required("Please enter your description"),points:l.c().min(10,"Please enter at least 10 points").required("Please enter your points")}),P=Object(c.e)({resolver:Object(u.a)(w),defaultValues:{name:(null===f||void 0===f?void 0:f.name)||"",description:(null===f||void 0===f?void 0:f.description)||"",points:(null===f||void 0===f?void 0:f.points)||10}}),j=P.control,B=P.handleSubmit,x=P.errors;return y(a.A,{onSubmit:B((function(e){!function(e){s.b.collection("runners").doc(n).update({badget:g({},e)}).then((function(t){O.fire({icon:"success",title:"Badget saved successfully"}),d({pathwayId:p,type:"edit_runner",msn:'The "'+e.name+'" badget was changed.'})})).catch((function(e){O.fire({icon:"error",title:"Creation badget"})}))}(g(g({},e),{},{image:v}))}))},y(a.Q,null,y(a.r,{xs:"6"},y(a.A.Group,null,y(m.a,{width:130,height:130,onCrop:function(e){h({preview:e})},onClose:function(){h({preview:null})},onBeforeFileLoad:function(e){e.target.files[0].size>71680&&(O.fire({icon:"error",title:"The image is very large"}),e.target.value="")},src:v.src,label:"Badget icon"}))),y(a.r,{xs:"6"},y(a.A.Group,null,v.preview&&y("img",{src:v.preview,alt:"Preview"}))),y(a.r,{xs:"12"},y(a.A.Group,null,y(a.y,null,y(c.a,{as:a.D,type:"text",id:"badget-name",name:"name",control:j,invalid:Boolean(x.name),placeholder:"Insert your name"}),y(a.F,{for:"badget-name"},"Name"),x.name&&y(a.A.Feedback,{children:x.name.message}))),y(a.A.Group,null,y(a.y,null,y(c.a,{as:a.D,type:"textarea",id:"badget-description",name:"description",control:j,invalid:Boolean(x.description),placeholder:"Insert your description"}),y(a.F,{for:"badget-description"},"Description"),x.description&&y(a.A.Feedback,{children:x.description.message}))),y(a.A.Group,null,y(a.y,null,y(c.a,{as:a.D,type:"number",id:"badget-points",name:"points",control:j,invalid:Boolean(x.points),placeholder:"Insert your points"}),y(a.F,{for:"badget-points"},"Points"),x.points&&y(a.A.Feedback,{children:x.points.message}))))),y(a.h,{type:"submit",variant:"primary",disabled:!r},"Save"))}},orBO:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/runner/badget",function(){return n("RQ+B")}])}},[["orBO",0,1,3,9,11,2,8,10,12,13]]])}));